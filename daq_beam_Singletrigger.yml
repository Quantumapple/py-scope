scope:
  hostname: 192.168.0.2
  port: 4000
  timeout: 0.5
  timeout_daq: 0.001
  file_split: 2000
  verbose: True
---
initialize:
- '*RST'
- HEADER OFF
- '*IDN?'
- SELECT:CH1 0; SELECT:CH2 0; SELECT:CH3 0; SELECT:CH4 0

configuration:
- SELECT:CH1 1;:SELECT:CH2 1;:SELECT:CH3 1;:SELECT:CH4 1
- CH1:POSITION 4.0E+0;:CH1:TERMINATION 50.0E+0;:CH1:SCALE 0.030
- CH2:POSITION 4.0E+0;:CH2:TERMINATION 50.0E+0;:CH2:SCALE 0.030
- CH3:POSITION 4.0E+0;:CH3:TERMINATION 50.0E+0;:CH3:SCALE 0.030
- CH4:POSITION -4.0E+0;:CH4:TERMINATION 50.0E+0;:CH4:SCALE 0.100
- TRIGGER:ENHANCED OFF;:TRIGGER:A:TYPE EDGE;:TRIGGER:A:MODE NORMAL;:TRIGGER:A:EDGE:SLOPE:CH1 FALL
- TRIGGER:A:EDGE:SOURCE CH1;:TRIGGER:A:MODE NORMAL;:TRIGGER:A:LEVEL:CH1 -35.0E-3
- HORIZONTAL:MODE MANUAL;:HORIZONTAL:MODE:RECORDLENGTH 1000;:HORIZONTAL:MODE:SAMPLERATE 10.0E+9
- DATA:START 0;:DATA:STOP 1000
- DATA:ENCDG FASTEST;:WFMOUTPRE:BYT_NR 1
- ACQUIRE:MODE SAMPLE;:HORIZONTAL:FASTFRAME:SEQUENCE FIRST
- HORIZONTAL:FASTFRAME:COUNT 500

start_acquire:
- MASK:COUNT
- DISPLAY:WAVEFORM OFF
#- HORIZONTAL:FASTFRAME:STATE ON
- ACQUIRE:STATE RUN


stop_acquire:
- ACQUIRE:STATE STOP
#- HORIZONTAL:FASTFRAME:STATE OFF
- DISPLAY:WAVEFORM ON
- MASK:COUNT

acquisition_loop:  # this is a keyword that starts a data acquisition loop
- CURVESTREAM?
---
task:
- initialize
- stop_acquire
- configuration
- start_acquire
- acquisition_loop
- stop_acquire
