scope:
  hostname: 192.168.0.3
  port: 4000
  timeout: 0.001
  timeout_daq: 90.0
  verbose: True
---
initialize:
- '*RST'
- HEADER OFF
- '*IDN?'
- SELECT:CH1 0; SELECT:CH2 0; SELECT:CH3 0; SELECT:CH4 0

configuration:
- CH1:POSITION 3.5E+0;:CH1:TERMINATION 50.0E+0;:CH1:SCALE 0.040
- CH2:POSITION -2.5E+0;:CH2:TERMINATION 50.0E+0;:CH2:SCALE 0.100
- CH3:POSITION 0.5E+0;:CH3:TERMINATION 50.0E+0;:CH3:SCALE 0.300
- CH4:POSITION -3.0E+0;:CH4:TERMINATION 50.0E+0;:CH4:SCALE 0.500
- TRIGGER:ENHANCED OFF;:TRIGGER:A:TYPE EDGE;:TRIGGER:A:EDGE:SOURCE CH4
- TRIGGER:A:LEVEL:CH4 0.310
- TRIGGER:A:EDGE:SLOPE:CH3 RISE;:TRIGGER:A:MODE NORMAL
- HORIZONTAL:MODE MANUAL;:HORIZONTAL:MODE:RECORDLENGTH 5000
- DATA:START 0;:DATA:STOP 5000
- HORIZONTAL:MAIN:POSITION 10
- DATA:ENCDG FASTEST;:WFMOutpre:BYT_Nr 1
- SELECT:CH1 1;:SELECT:CH2 0;:SELECT:CH3 0;:SELECT:CH4 1
- ACQUIRE:MODE SAMPLE;:HORIZONTAL:FASTFRAME:SEQUENCE FIRST
- HORIZONTAL:FASTFRAME:COUNT 500

start_acquire:
- MASK:COUNT
- DISPLAY:WAVEFORM OFF
#- HORIZONTAL:FASTFRAME:STATE ON
- ACQUIRE:STATE RUN


stop_acquire:
- ACQUIRE:STATE STOP
#- HORIZONTAL:FASTFRAME:STATE OFF
- DISPLAY:WAVEFORM ON
- MASK:COUNT

acquisition_loop:  # this is a keyword that starts a data acquisition loop
- CURVESTREAM?
---
task:
- initialize
- stop_acquire
- configuration
- start_acquire
- acquisition_loop
- stop_acquire